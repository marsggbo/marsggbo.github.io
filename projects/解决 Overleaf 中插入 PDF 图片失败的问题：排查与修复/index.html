<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content=""> <meta name="msvalidate.01" content=""> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> 解决 Overleaf 中插入 PDF 图片失败的问题：排查与修复 | HE Xin </title> <meta name="author" content="Xin He"> <meta name="description" content="" sss: study sleep slim> <meta name="keywords" content="PhD, AI, LLM, Neural Architecture Search, NAS, AutoML, Automated Machine Learning,HKBU, NUS, HUST"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link defer href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%99%A5&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://marsggbo.github.io/projects/%E8%A7%A3%E5%86%B3%20Overleaf%20%E4%B8%AD%E6%8F%92%E5%85%A5%20PDF%20%E5%9B%BE%E7%89%87%E5%A4%B1%E8%B4%A5%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9A%E6%8E%92%E6%9F%A5%E4%B8%8E%E4%BF%AE%E5%A4%8D/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> HE Xin </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item "> <a class="nav-link" href="/others/">Others </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">Projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">Teaching </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">解决 Overleaf 中插入 PDF 图片失败的问题：排查与修复</h1> <p class="post-meta"> April 19, 2025 </p> <p class="post-tags"> <i class="fa-solid fa-calendar fa-sm"></i> 2025   ·   <i class="fa-solid fa-hashtag fa-sm"></i> 技术,overleaf     ·   <i class="fa-solid fa-tag fa-sm"></i> techniques   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>在写科研文稿时，我们经常需要插入结构图、模型图等 PDF 格式的矢量图。但在 Overleaf 中，我遇到了一个较难定位的问题：使用 <code class="language-plaintext highlighter-rouge">\includegraphics</code> 插入 PDF 图片时，<strong>编译无报错，但无法显示图片甚至生成 PDF 文件失败</strong>。提示如下信息</p> <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>No PDF
This compile didn’t produce a PDF. This can happen if:
There is an unrecoverable LaTeX error. If there are LaTeX errors shown below or in the raw logs, please try to fix them and compile again.
The document environment contains no content. If it’s empty, please add some content and compile again.
This project contains a file called output.pdf. If that file exists, please rename it and compile again.
</code></pre></div></div> <p>本文记录这一问题的背景、排查过程与最终解决方案，希望对遇到类似问题的用户有所帮助。</p> <hr> <h1 id="1-问题背景">1. 问题背景</h1> <p>文档中使用如下方式插入图像：</p> <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\usepackage</span><span class="p">{</span>graphicx<span class="p">}</span>
<span class="k">\graphicspath</span>

...

<span class="nt">\begin{figure}</span>
    <span class="k">\centering</span>
    <span class="k">\includegraphics</span><span class="na">[width=\linewidth]</span><span class="p">{</span>prune<span class="p">_</span>structure.pdf<span class="p">}</span>
    <span class="k">\caption</span><span class="p">{</span>结构化剪枝示意图<span class="p">}</span>
    <span class="k">\label</span><span class="p">{</span>fig:pruning<span class="p">}</span>
<span class="nt">\end{figure}</span>
</code></pre></div></div> <p>其中 prune_structure.pdf 是一张矢量格式的图像，在本地查看没有问题,并没有损坏。</p> <h1 id="2-问题现象">2. 问题现象</h1> <p>在 Overleaf 中： • 使用 Fast Compile 模式时，文档可以编译成功，但图片显示为空白； • 使用 Normal Compile 模式时，编译直接失败，并提示：</p> <p>This compile didn’t produce a PDF.</p> <p>日志中没有明确的错误信息，定位困难。</p> <h1 id="3-排查过程">3. 排查过程</h1> <p>以下是我尝试过的排插步骤：</p> <ul> <li> <ol> <li>确认路径正确： <ul> <li>日志显示图像被正确找到：<code class="language-plaintext highlighter-rouge">File: figures/.../prune_structure.pdf Graphic file (type pdf)</code> </li> </ul> </li> </ol> </li> <li> <ol> <li>注释图像代码： <ul> <li>注释掉 figure 环节后，PDF 成功生成，说明问题出在图像本身。</li> </ul> </li> </ol> </li> <li> <ol> <li>确认 PDF 未损坏： <ul> <li>图片可以在本地打开，也可以在 Overleaf 文件预览中正常显示，说明文件不是损坏的。</li> </ul> </li> </ol> </li> <li> <ol> <li>加入调试信息： <ul> <li>添加 \listfiles，确认使用的是 XeLaTeX，图像类型正确，依然无法定位问题。</li> </ul> </li> </ol> </li> </ul> <p><strong>原因分析</strong></p> <p>最后问 chatgpt 和上网查资料，终于找到这个诡异的问题的原因了，就是因为Overleaf 使用 XeLaTeX 编译时，某些 PDF 图像的边界框信息（bounding box / crop box）不规范，可能会导致渲染器加载失败。特别是使用某些工具导出的图（如绘图工具、Python 库等）经常出现这种兼容性问题。这个问题光靠肉眼去检查 PDF 根本不可能看出来。折腾了我一上午这破玩意。</p> <h1 id="4-解决方案使用-pdfcrop-清理边界信息">4. 解决方案：使用 pdfcrop 清理边界信息</h1> <p>我用的是Macbook，所以好像自带 pdfcrop命令。使用如下命令重新生成裁剪后的 PDF：</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pdfcrop <span class="nt">-xetex</span> prune_structure.pdf
<span class="nb">mv </span>prune_structure-crop.pdf prune_structure.pdf
</code></pre></div></div> <p>这样处理后，重新上传至 Overleaf，即可成功插入图像并正常编译生成 PDF。</p> <p>每次都这么敲键盘怪累的，我们可以自动化命令简化操作。只需要把下面的代码添加到 .bashrc 或 .zshrc，我用的是后者：</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ~/.zshrc</span>
pdfclean<span class="o">()</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nv">$# </span><span class="nt">-ne</span> 1 <span class="o">]</span><span class="p">;</span> <span class="k">then
        </span><span class="nb">echo</span> <span class="s2">"Usage: pdfclean &lt;filename.pdf&gt;"</span>
        <span class="k">return </span>1
    <span class="k">fi
    </span><span class="nb">local </span><span class="nv">input</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
    <span class="nb">local </span><span class="nv">base</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">input</span><span class="p">%.pdf</span><span class="k">}</span><span class="s2">"</span>
    pdfcrop <span class="nt">-xetex</span> <span class="s2">"</span><span class="nv">$input</span><span class="s2">"</span> <span class="s2">"</span><span class="k">${</span><span class="nv">base</span><span class="k">}</span><span class="s2">-crop.pdf"</span> <span class="o">&amp;&amp;</span> <span class="nb">mv</span> <span class="s2">"</span><span class="k">${</span><span class="nv">base</span><span class="k">}</span><span class="s2">-crop.pdf"</span> <span class="s2">"</span><span class="nv">$input</span><span class="s2">"</span>
<span class="o">}</span>
</code></pre></div></div> <p>然后使用：</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pdfclean prune_structure.pdf
</code></pre></div></div> <p>即可一键清理图像并替换原文件。</p> <h1 id="5-总结">5. 总结</h1> <p>当 Overleaf 中插入 PDF 图片后出现“无错误但无法显示”或“编译失败”的现象时，建议优先考虑图片的边界信息问题。使用 pdfcrop -xetex 是一个有效且高效的解决方案，能显著提高在线 LaTeX 平台对 PDF 图像的兼容性。</p> <footer style="color:white;;background-color:rgb(24,24,24);padding:10px;border-radius:10px;"> <h3 style="text-align:center;color:tomato;font-size:16px;" id="autoid-2-0-0"> <center> <span>微信公众号：AutoML机器学习</span><br> <img src="https://pic4.zhimg.com/80/v2-87083e55cd41dbef83cc840c142df48a_720w.jpeg" style="width:200px;height:200px"> </center> <b>MARSGGBO</b><b style="color:white;"><span style="font-size:25px;">♥</span>原创</b><br> <span>如有意合作或学术讨论欢迎私戳联系~<br>邮箱:marsggbo@foxmail.com</span> <b style="color:white;"><br> </b> </h3> <p><b style="color:white;"></b> </p> </footer> </div> </article> </div> </div> </div> </div> <div class="clustrmaps-container" style="width: 70%; margin: 0 auto;"> <script type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?cl=080808&amp;w=300&amp;t=tt&amp;d=MmPhDESko6sM29T5t949L9IK3zTIqI7QXYMuddg4Dos&amp;co=ffffff&amp;cmo=3acc3a&amp;cmn=ff5353&amp;ct=808080"></script> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Xin He. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: June 23, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script type="text/javascript">$(function(){$('[data-toggle="tooltip"]').tooltip()});</script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script src="/assets/js/no_defer.js?5d75c11f89cd96294bf5e6dd1ee1bb30"></script> <script defer src="/assets/js/common.js?fcfacfb8c6281f5e68d5a7d348186eb1"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id="></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","");</script> <script async src="https://rum.cronitor.io/script.js"></script> <script>window.cronitor=window.cronitor||function(){(window.cronitor.q=window.cronitor.q||[]).push(arguments)},cronitor("config",{clientKey:""});</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>